% !TEX encoding = UTF-8 Unicode
% !TEX root = okicmd.tex
\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[11pt, a4paper]{article}

% Margin & fonts
\usepackage[top=1truein, bottom=1truein, left=1truein, right=1truein]{geometry}
\usepackage{type1cm}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

% hyperref
\usepackage[bookmarksnumbered, pdfdisplaydoctitle, pdfusetitle, unicode]{hyperref}

% Code execution and highlight
\usepackage{cnltx-example}
\newsourcecodeenv{cnltxexample}
\let\example\relax
\let\endexample\relax

% Footnotes in tables
\usepackage{tablefootnote}

% Misc
\usepackage{autonum}
\usepackage{booktabs}
\usepackage{comment}
\usepackage[en-US]{datetime2}

% okicmd
\usepackage{okicmd}
\usepackage{okithm}


\title{The \pkg*{okicmd} and \pkg*{okithm} Packages}
\author{Taihei Oki}

\begin{document}
\maketitle

\section{The \pkg*{okicmd} Package}

\subsection{Letters}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input} & Output        & \multicolumn{1}{c}{\LaTeX\ equivalent} \\\midrule
    \code{l}                  & $l$           & \cs{ell}                               \\
    \cs{ell}                  & $\ell$        & \code{l}                               \\
    \cs{epsilon}              & $\epsilon$    & \cs{varepsilon}                        \\
    \cs{varepsilon}           & $\varepsilon$ & \cs{epsilon}                           \\
    \cs{phi}                  & $\phi$        & \cs{varphi}                            \\
    \cs{varphi}               & $\varphi$     & \cs{phi}                               \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Parentheses}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input}                & Output               & \multicolumn{1}{c}{\LaTeX\ (almost) equivalent}          \\\midrule
    \cs{prn}\Marg{\cs{cdot}}                 & $\prn{\cdot}$        & \code{\cs{left}(\cs{cdot}\cs{right})}\footnotemark       \\
    \code{\cs{prn}*\Marg{\cs{cdot}}}         & $\prn*{\cdot}$       & \code{(\cs{cdot})}                                       \\
    \cs{prn}\Oarg{\cs{big}}\Marg{\cs{cdot}}  & $\prn[\big]{\cdot}$  & \code{\cs{bigl}(\cs{cdot}\cs{bigr})}                     \\
    \cs{prn}\Oarg{\cs{Big}}\Marg{\cs{cdot}}  & $\prn[\Big]{\cdot}$  & \code{\cs{Bigl}(\cs{cdot}\cs{Bigr})}                     \\
    \cs{prn}\Oarg{\cs{bigg}}\Marg{\cs{cdot}} & $\prn[\bigg]{\cdot}$ & \code{\cs{biggl}(\cs{cdot}\cs{biggr})}                   \\
    \cs{prn}\Oarg{\cs{Bigg}}\Marg{\cs{cdot}} & $\prn[\Bigg]{\cdot}$ & \code{\cs{Biggl}(\cs{cdot}\cs{Biggr})}                   \\
    \cs{curl}\Marg{\cs{cdot}}                & $\curl{\cdot}$       & \code{\cs{left}\cs{}\{\cs{cdot}\cs{right}\cs{}\}}        \\
    \cs{sqbr}\Marg{\cs{cdot}}                & $\sqbr{\cdot}$       & \code{\cs{left}\lbrack\cs{cdot}\cs{right}\rbrack}        \\
    \cs{agbr}\Marg{\cs{cdot}}                & $\agbr{\cdot}$       & \cs{left}\cs{langle}\cs{cdot}\cs{right}\cs{rangle}       \\
    \cs{dbbr}\Marg{\cs{cdot}}                & $\dbbr{\cdot}$       & \cs{left}\cs{llbracket}\cs{cdot}\cs{right}\cs{rrbracket} \\
    \cs{pipe}\Marg{\cs{cdot}}                & $\pipe{\cdot}$       & \code{\cs{left}|\cs{cdot}\cs{right}|}                    \\
    \cs{dbpp}\Marg{\cs{cdot}}                & $\dbpp{\cdot}$       & \code{\cs{left}\cs{}|\cs{cdot}\cs{right}\cs{}|}          \\
    \cs{floor}\Marg{\cs{cdot}}               & $\floor{\cdot}$      & \cs{left}\cs{lfloor}\cs{cdot}\cs{right}\cs{rfloor}       \\
    \cs{ceil}\Marg{\cs{cdot}}                & $\ceil{\cdot}$       & \cs{left}\cs{lceil}\cs{cdot}\cs{right}\cs{rceil}         \\
    \bottomrule
  \end{tabular}
\end{center}
\footnotetext{%
  The exactly equivalent \LaTeX\ code is \code{\cs{mathopen}\Marg{\cs{left}(\cs{vphantom}\Marg{\cs{cdot}}\cs{kern}-\cs{nulldelimiterspace}\\
  \cs{right}.}\cs{cdot}\cs{mathclose}\Marg{\cs{left}.\cs{kern}-\cs{nulldelimiterspace}\cs{vphantom}\Marg{\cs{cdot}}\cs{right})}}. % chktex 9
  This is the same for other parenthesis commands.
}

\subsection{Logic}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input} & Output        & \multicolumn{1}{c}{\LaTeX\ equivalent}                             \\\midrule
    \cs{bigland}              & $\bigland$    & \cs{bigwedge}                                                      \\
    \cs{biglor}               & $\biglor$     & \cs{bigvee}                                                        \\
    \code{a \cs{defeq} b}     & $a \defeq b$  & \code{a \cs{coloneqq} b}                                           \\
    \code{a \cs{eqdef} b}     & $b \eqdef a$  & \code{a \cs{eqqcolon} b}                                           \\
    \code{P \cs{defiff} Q}    & $P \defiff Q$ & \code{P \cs{overset}\Marg{\cs{mathrm}\Marg{def}}\Marg{\cs{iff}} Q} \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Sets}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input}                       & Output                   & \multicolumn{1}{c}{\LaTeX\ (almost) equivalent}     \\\midrule
    \cs{set}\Marg{a \cs{in} S}                      & $\set{a \in S}$          & \code{\cs{left}\cs{\{}a \cs{in} S\cs{right}\cs{\}}} \\
    \cs{set}\Marg{a \cs{in} S}\Oarg{a\string^2 = 1} & $\set{a \in S}[a^2 = 1]$ & \begin{tabular}[l]{@{}l@{}}\code{\cs{left}\cs{\{}a \cs{in} S\cs{mathrel}\Marg{}\cs{middle}|}\\\code{ \cs{mathrel}\Marg{}a\string^2 = 1\cs{right}\cs{\}}\footnotemark}\end{tabular}              \\ % chktex 44
    \cs{card}\Marg{X}                               & $\card{X}$               & \code{\cs{left}|X\cs{right}|}                       \\
    \code{X \cs{symdif} Y}                          & $X \symdif Y$            & \code{X \cs{mathbin}\Marg{\cs{triangle}} Y}         \\
    \cs{setN}                                       & $\setN$                  & \cs{mathbb}\Marg{N}                                 \\
    \cs{setZ}                                       & $\setZ$                  & \cs{mathbb}\Marg{Z}                                 \\
    \cs{setQ}                                       & $\setQ$                  & \cs{mathbb}\Marg{Q}                                 \\
    \cs{setR}                                       & $\setR$                  & \cs{mathbb}\Marg{R}                                 \\
    \cs{setC}                                       & $\setC$                  & \cs{mathbb}\Marg{C}                                 \\
    \cs{setH}                                       & $\setH$                  & \cs{mathbb}\Marg{H}                                 \\
    \cs{setF}                                       & $\setF$                  & \cs{mathbb}\Marg{F}                                 \\
    \cs{setK}                                       & $\setK$                  & \cs{mathbb}\Marg{K}                                 \\
    \cs{setZp}                                      & $\setZp$                 & \code{\cs{mathbb}\Marg{Z}\_\{\cs{ge}0\}}            \\
    \cs{setQp}                                      & $\setQp$                 & \code{\cs{mathbb}\Marg{Q}\_\{\cs{ge}0\}}            \\
    \cs{setRp}                                      & $\setRp$                 & \code{\cs{mathbb}\Marg{R}\_\{\cs{ge}0\}}            \\
    \cs{setNpp}                                     & $\setNpp$                & \code{\cs{mathbb}\Marg{N}\_\{>0\}}                  \\
    \cs{setZpp}                                     & $\setZpp$                & \code{\cs{mathbb}\Marg{Z}\_\{>0\}}                  \\
    \cs{setQpp}                                     & $\setQpp$                & \code{\cs{mathbb}\Marg{Q}\_\{>0\}}                  \\
    \cs{setRpp}                                     & $\setRpp$                & \code{\cs{mathbb}\Marg{R}\_\{>0\}}                  \\
    \bottomrule
  \end{tabular}
\end{center}
\footnotetext{%
  The exactly equivalent \LaTeX\ code is \code{\cs{mathopen}\Marg{\cs{left}\cs{\{}\cs{vphantom}\Marg{a \cs{in} Sa\string^2 = 1}\cs{kern}-\\
  \cs{nulldelimiterspace}\cs{right}.}a \cs{in} S\cs{mathrel}\Marg{\cs{left}.\cs{kern}-\cs{nulldelimiterspace}\cs{vphantom}\Marg{a \cs{in} Sa\string^2\\
  = 1}\cs{middle}|\cs{kern}-\cs{nulldelimiterspace}\cs{right}.}a\string^2 = 1\cs{mathclose}\Marg{\cs{left}.\cs{kern}-\cs{nulldelimiterspace}\\
  \cs{vphantom}\Marg{a \cs{in} Sa\string^2 = 1}\cs{right}\cs{\}}}}. % chktex 9
  This is the same for other parenthesis commands with middle bars.
}

\subsection{Maps}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input}             & Output               & \multicolumn{1}{c}{\LaTeX\ (almost) equivalent}       \\\midrule
    \cs{doms}\Marg{X}\Marg{Y}             & $\doms{X}{Y}$        & \code{\{X\}\cs{to}\{Y\}}                     \\
    \cs{funcdoms}\Marg{f}\Marg{X}\Marg{Y} & $\funcdoms{f}{X}{Y}$ & \code{\{f\}\cs{vcentcolon}\{X\}\cs{to}\{Y\}} \\
    \cs{restr}\Marg{f}\Marg{S}            & $\restr{f}{S}$       & \code{\cs{left}.f\cs{right}|\_\{S\}}         \\
    \code{\cs{id}\_K}                     & $\id_K$              & \code{\cs{operatorname}\Marg{id}\_K}         \\
    \code{\cs{dom} f}                     & $\dom f$             & \code{\cs{operatorname}\Marg{dom} f}         \\
    \code{\cs{cod} f}                     & $\cod f$             & \code{\cs{operatorname}\Marg{cod} f}         \\
    \code{\cs{supp} f}                    & $\supp f$            & \code{\cs{operatorname}\Marg{supp} f}        \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Lattices}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input} & Output      & \multicolumn{1}{c}{\LaTeX\ equivalent}   \\\midrule
    \code{x \cs{meet} y}      & $x \meet y$ & \code{x \cs{mathbin}\Marg{\cs{wedge}} y} \\
    \code{x \cs{join} y}      & $x \join y$ & \code{x \cs{mathbin}\Marg{\cs{vee}} y}   \\
    \cs{bigmeet}              & $\bigmeet$  & \cs{bigwedge}                            \\
    \cs{bigjoin}              & $\bigjoin$  & \cs{bigvee}                              \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Algebra}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input}                  & Output               & \multicolumn{1}{c}{\LaTeX\ (almost) equivalent}               \\\midrule
    \cs{Hom}\Darg{G}                           & $\Hom(G)$            & \code{\cs{operatorname}\Marg{Hom}(G)}                \\
    \code{\cs{End} R}                          & $\End R$             & \code{\cs{operatorname}\Marg{End} R}                 \\
    \code{\cs{Aut}\_k K}                       & $\Aut_k K$           & \code{\cs{operatorname}\Marg{Aut}\_k K}              \\
    \cs{gen}\Marg{a, b}                        & $\gen{a, b}$         & \code{\cs{left}\cs{langle}a, b\cs{right}\cs{rangle}} \\
    \cs{gen}\Marg{a, b}\Oarg{ab = e}           & $\gen{a, b}[ab = e]$ & \begin{tabular}[l]{@{}l@{}}\code{\cs{left}\cs{langle}a, b\cs{mathrel}\Marg{}\cs{middle}|}\\\code{ \cs{mathrel}\Marg{}ab = e\cs{right}\cs{rangle}}\end{tabular}                            \\ % chktex 44
    \cs{abel}\Marg{G}                          & $\abel{G}$           & \code{G\_\{\cs{mathrm}\Marg{ab}\}}                   \\
    \cs{comm}\Marg{G}                          & $\comm{G}$           & \code{\cs{left}\lbrack G, G\cs{right}\rbrack}        \\
    \code{\cs{ord} G}                          & $\ord G$             & \code{\cs{operatorname}\Marg{ord} G}                 \\
    \code{\cs{sym}\_n}                         & $\sym_n$             & \code{\cs{mathfrak}\Marg{S}\_n}                      \\
    \cs{sgn}\Darg{\cs{sigma}}                  & $\sgn(\sigma)$       & \code{\cs{operatorname}\Marg{sgn}(\cs{sigma})}       \\
    \cs{mult}\Marg{R}                          & $\mult{R}$           & \code{R\string^\{\cs{times}\}}                       \\
    \code{\cs{M}\_\string{m,n\string}\Darg{R}} & $\M_{m,n}(R)$        & \code{\cs{operatorname}\Marg{M}\_\{m,n\}(R)}         \\
    \code{\cs{GL}\_n\Darg{R}}                  & $\GL_n(R)$           & \code{\cs{operatorname}\Marg{GL}\_n(R)}              \\
    \code{\cs{SL}\_n\Darg{R}}                  & $\SL_n(R)$           & \code{\cs{operatorname}\Marg{SL}\_n(R)}              \\
    \cs{O}\Darg{n}                             & $\O(n)$              & \code{\cs{operatorname}\Marg{O}(n)}                  \\
    \cs{SO}\Darg{n}                            & $\SO(n)$             & \code{\cs{operatorname}\Marg{SO}(n)}                 \\
    \cs{U}\Darg{n}                             & $\U(n)$              & \code{\cs{operatorname}\Marg{U}(n)}                  \\
    \cs{SU}\Darg{n}                            & $\SU(n)$             & \code{\cs{operatorname}\Marg{SU}(n)}                 \\
    \cs{GL}\Darg{q}                            & $\GL(q)$             & \code{\cs{operatorname}\Marg{GL}(q)}                 \\
    \code{L \cs{extends} K}                    & $L \extends K$       & \code{L \cs{mathbin}\Marg{/} K}                      \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Number Theory}
\begin{center}
  \begin{tabular}{lcl} \toprule
    \multicolumn{1}{c}{Input} & Output          & \multicolumn{1}{c}{\LaTeX\ (almost) equivalent}     \\\midrule
    \cs{abs}\Marg{x}          & $\abs{x}$       & \code{\cs{left}|x\cs{right}|}              \\
    \cs{intset}\Marg{n}       & $\intset{n}$    & \code{\cs{left}\lbrack n\cs{right}\rbrack} \\
    \code{a \cs{coprime} b}   & $a \coprime b$  & \code{a \cs{mathrel}\Marg{\cs{bot}} b}     \\
    \code{a \cs{divides} b}   & $a \divides b$  & \code{a \cs{mid} b}                        \\
    \code{a \cs{ndivides} b}  & $a \ndivides b$ & \code{a \cs{nmid} b}                       \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Linear Algebra}
\begin{center}
  \begin{tabular}{lc} \toprule
    \multicolumn{1}{c}{Input}                   & Output                         \\\midrule
    \code{\cs{tr} A}                            & $\tr A$                        \\
    \code{\cs{rank} A}                          & $\rank A$                      \\
    \code{\cs{trank} A}                         & $\trank A$                     \\
    \code{\cs{Pf} A}                            & $\Pf A$                        \\
    \cs{diag}\Darg{a\_1, \cs{ldots}, a\_n}      & $\diag(a_1, \ldots, a_n)$      \\
    \cs{blockdiag}\Darg{A\_1, \cs{ldots}, A\_n} & $\blockdiag(A_1, \ldots, A_n)$ \\
    \cs{vectorize}\Darg{A}                      & $\vectorize(A)$                \\
    \cs{Row}\Darg{A}                            & $\Row(A)$                      \\
    \cs{Col}\Darg{A}                            & $\Col(A)$                      \\
    \cs{onevec}                                 & $\onevec$                      \\
    \cs{trsp}\Marg{A}                           & $\trsp{A}$                     \\
    \cs{adjo}\Marg{A}                           & $\adjo{A}$                     \\
    \cs{inpr}\Marg{x}\Marg{y}                   & $\inpr{x}{y}$                  \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Analysis}
\begin{center}
  \begin{tabular}{lc} \toprule
    \multicolumn{1}{c}{Input}  & Output         \\\midrule
    \cs{intoo}\Marg{a, b}      & $\intoo{a, b}$ \\
    \cs{intoc}\Marg{a, b}      & $\intoc{a, b}$ \\
    \cs{intco}\Marg{a, b}      & $\intco{a, b}$ \\
    \cs{intcc}\Marg{a, b}      & $\intcc{a, b}$ \\
    \cs{e}                     & $\e$           \\
    \cs{d}                     & $\d$           \\
    \cs{dif}\Marg{f}\Marg{x}   & $\dif{f}{x}$   \\
    \cs{pdif}\Marg{f}\Marg{x}  & $\pdif{f}{x}$  \\
    \cs{ddif}\Marg{f}\Marg{x}  & $\ddif{f}{x}$  \\
    \cs{dpdif}\Marg{f}\Marg{x} & $\dpdif{f}{x}$ \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Complex Analysis}
\begin{center}
  \begin{tabular}{lc} \toprule
    \multicolumn{1}{c}{Input}                      & Output            \\\midrule
    \cs{i}                                         & $\i$              \\
    \code{\cs{Re} z}                               & $\Re z$           \\
    \code{\cs{Im} z}                               & $\Im z$           \\
    \code{\cs{Arg} z}                              & $\Arg z$          \\
    \code{\cs{Loc} z}                              & $\Log z$          \\
    \code{\cs{Sin} z}                              & $\Sin z$          \\
    \code{\cs{Cos} z}                              & $\Cos z$          \\
    \code{\cs{Tan} z}                              & $\Tan z$          \\
    \code{\cs{Res}\_\string{z=0\string} f\Darg{z}} & $\Res_{z=0} f(z)$ \\
    \bottomrule
  \end{tabular}
\end{center}

\subsection{Optimization}
\begin{center}
  \begin{tabular}{lc} \toprule
    \multicolumn{1}{c}{Input}                                 & Output                   \\\midrule
    \code{\cs{argmin}\_\string{x \cs{in} S\string} f\Darg{x}} & $\argmin_{x \in S} f(x)$ \\
    \code{\cs{argmax}\_\string{x \cs{in} S\string} f\Darg{x}} & $\argmax_{x \in S} f(x)$ \\
    \cs{Order}\Darg{n}                                        & $\Order(n)$              \\
    \cs{order}\Darg{n}                                        & $\order(n)$              \\
    \bottomrule
  \end{tabular}
\end{center}

\section{The \pkg*{okithm} Package}
\subsection{Theorems}

If the language is set to Japanese like by \cs{usepackage}\Oarg{\keyis-{main}{japanese}}\Marg{\pkg{babel}}, \pkg{okithm} will translate all the environment titles (Theorem, Definition, etc.) into Japanese.
You can disable theorems by giving the option \option{notheorem} to \pkg{okicmd}.

\begin{cnltxexample}
  \begin{theorem}[Awesome theorem]
    The square root $\sqrt{2}$ of two is irrational.
  \end{theorem}

  \begin{definition}[Coprime]
    Integers $a$ and $b$ are said to be \emph{coprime} if their greatest common divisor is one.
  \end{definition}

  \begin{lemma}
    If $a$ and $b$ are coprime, so are $a^2$ and $b^2$.
  \end{lemma}

  \begin{proposition}
    If $\sqrt{2} = a/b$, then $a^2 = 2b^2$.
  \end{proposition}

  \begin{corollary}
    If $\sqrt{2} = a/b$ with $a$ and $b$ being coprime, then $a$ is even.
  \end{corollary}

  \begin{example}
    If $a = 2$ and $b = 1$, then $a$ is even but $\sqrt{2} \ne a/b$.
  \end{example}

  \begin{remark}
    Note that $a$ and $b$ must be integers.
  \end{remark}

  \begin{proof}[of Awesome theorem]
    Suppose to the contrary that $\sqrt{2} = a/b$ with coprime $a$ and $b$.
    Then both $a$ and $b$ are even, which contradicts the assumption.
  \end{proof}
\end{cnltxexample}

\subsection{Algorithms}

You can disable algorithms by setting the option \option{noalgorithm}.

\begin{cnltxexample}
  \begin{algorithmic}[1]
    \Input{$n \in \setN$}
    \Output{$n(n+1)/2$}
    \State{$s \gets 0$}
    \ForTo{$i = 1$}{$n$}
    \State{$s \gets s + i$}
    \EndFor
    \State{\Return $s$}
  \end{algorithmic}
\end{cnltxexample}

\subsection{Optimization Problems}

You can change \texttt{minimize}, \texttt{maximize} and \texttt{subject to} into \texttt{min}, \texttt{max} and \texttt{s.t.}, respectively, by setting the option \keyis-{optstyle}{short}.

\begin{comment}
\begin{cnltxexample}
  \Minimize[name={(P)}]{
    \sum_{\condit{x \in S}[x^2 = 1]} w (x) + \sum_{i=1}^n (p_i + q_i)
  }{
    S \subseteq V, \\
    p_i \ge 0 & (i = 1, \ldots, n), \\
    q_i \ge 0 & (i = 1, \ldots, n)
  }
\end{cnltxexample}
\end{comment}


\end{document}
